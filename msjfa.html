<!DOCTYPE html>
<html lang="zh-HK">
<head>

  <meta charset="UTF-8">
  <title>拯溺筆試温習(銅章) - 網上模擬試題練習</title>
  <meta name="description" content="網上免費模擬試題練習，提供各類模擬試題，包括拯搦考試、急救考試，等各類牌照測試，並設有温習模式及操練模式。">
  <meta name="keywords" content="拯溺,拯溺考試,水上急救,銅章,泳池救生,沙灘救生,救生,急救,急救考試,重考,急考,補考,考牌,筆試題目,考試">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="canonical" href="https://mepohk.com">
  <meta property="og:title" content="拯溺筆試温習(銅章) - 網上模擬試題練習">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://215508890.github.io/omep/">
  <meta property="og:description" content="網上免費模擬試題練習，提供各類模擬試題，包括拯搦考試、急救考試，等各類牌照測試，並設有温習模式及操練模式。"> 
  <meta property="og:site_name" content="網上模擬試題練習">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta property="og:image" content="Images/MEPO%20Logo.png">
  <meta name="google-site-verification" content="ahRwm3QFISYLwfVeoxJwCO1Cg8XfWXKLtBIVsZlsZas" />
  <link rel="icon" href="Images/MEPO%20Logo.png" type="image/x-icon">
  <link rel="apple-touch-icon" href="Images/MEPO%20Logo.png">

  <link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="stylesheet" type="text/css" href="css/styles.css">
</head>
<body>

  <div class="header">
<div class="hamburger-menu">
    <div class="line"></div>
    <div class="line"></div>
    <div class="line"></div>
  </div>
      <img src="Images/logo.banner.png" alt="Banner" class="banner">
  </div>

  <div class="vertical-menu">
    <div class="vertical-menu-header">
       <p class="menu-item-text"><br><br></p>
    </div>

    <div class="vertical-menu-items">
      <div class="menu-item">
      <a href="index.html">
        <p class="menu-item-text">首頁</p></a>
      </div>
<div class="menu-item">
  <p class="menu-item-text" id="ls" >拯溺系列</p>
  <div class="dropdown-menu">
    <div class="dropdown-item" id="bm" >銅章
      <div class="dropdown-menu-third">
        <a href="rbm.html">
          <div class="dropdown-item" id="third1">温習</div>
        </a>
        <a href="mbm.html">
          <div class="dropdown-item" id="third2">測試</div>
        </a>
      </div>
    </div>
    <div class="dropdown-item" id="wfa" >水上急救
      <div class="dropdown-menu-third">
        <a href="rwfa.html">
          <div class="dropdown-item" id="third3">温習</div>
        </a>
        <a href="mwfa.html">
          <div class="dropdown-item" id="third4">測試</div>
        </a>
      </div>
    </div>
    <div class="dropdown-item" id="pl" >泳池救生
      <div class="dropdown-menu-third">
        <a href="rpl.html">
          <div class="dropdown-item" id="third5">温習</div>
        </a>
        <a href="mpl.html">
          <div class="dropdown-item" id="third6">測試</div>
        </a>
      </div>
    </div>
  </div>
</div>
      
      <div class="menu-item">
  <p class="menu-item-text" id="fa" >急救系列</p>
  <div class="dropdown-menu">
    <div class="dropdown-item" id="amsfa" >AMS 急救
      <div class="dropdown-menu-third">
        <a href="ramsfa.html">
          <div class="dropdown-item" id="third7">温習</div>
        </a>
        <a href="mamsfa.html">
          <div class="dropdown-item" id="third8">測試</div>
        </a>
      </div>
    </div>
    <div class="dropdown-item" id="sjfa" >SJ 急救
      <div class="dropdown-menu-third">
        <a href="rsjfa.html">
          <div class="dropdown-item" id="third9">温習</div>
        </a>
        <a href="msjfa.html">
          <div class="dropdown-item" id="third10">測試</div>
        </a>
      </div>
    </div>
  </div>
</div>
      
  
      
    </div>
  </div>

<h2>Coming soon.....</h2>
  


  
    <h1 class="question" id="question-text"></h1>
    <div id="options-container"></div>
    <div id="feedback-container"></div>
  <button id="prevButton" class="prevButton">上一題</button>
  <button id="next-button" class="next-button">下一題</button>
<button id="redo-button" class="redo-button">重設</button>
  </div>


  
  <script>

      'use strict';
      const hamburgerMenu = document.querySelector('.hamburger-menu');
    const verticalMenu = document.querySelector('.vertical-menu');
    const menuItems = document.querySelectorAll('.menu-item');
    const dropdownMenus = document.querySelectorAll('.dropdown-menu');
    let activeMenuItem = null;
    let activeDropdownMenu = null;
    let activeThirdLayerMenu = null;

    hamburgerMenu.addEventListener('click', () => {
      if (verticalMenu.classList.contains('open')) {
        closeMenu();
      } else {
        openMenu();
      }
    });

    function openMenu() {
      verticalMenu.classList.add('open');
      menuItems.forEach((menuItem, index) => {
        setTimeout(() => {
          menuItem.style.opacity = '1';
          menuItem.style.transform = 'translateY(0)';
        }, index * 100);
      });
    }

    function closeMenu() {
      verticalMenu.classList.remove('open');
      menuItems.forEach((menuItem, index) => {
        setTimeout(() => {
          menuItem.style.opacity = '0';
          menuItem.style.transform = 'translateY(-20px)';
        }, index * 100);
      });
    }

    menuItems.forEach((menuItem) => {
      menuItem.addEventListener('click', () => {
        if (menuItem.classList.contains('active')) {
          menuItem.classList.remove('active');
          activeMenuItem = null;
        } else {
          if (activeMenuItem) {
            activeMenuItem.classList.remove('active');
          }
          menuItem.classList.add('active');
          activeMenuItem = menuItem;
        }
      });
    });

dropdownMenus.forEach((dropdownMenu) => {
  const parentMenuItem = dropdownMenu.parentElement;

  parentMenuItem.addEventListener('click', (event) => {
    // Stop propagation if a third-layer menu is being clicked
    if (event.target.closest('.dropdown-menu-third')) {
      event.stopPropagation();
      return;
    }

    // Prevent the parent menu item from closing when clicking the dropdown menu
    event.stopPropagation(); 

    if (dropdownMenu.classList.contains('open')) {
      dropdownMenu.classList.remove('open');
    } else {
      if (activeDropdownMenu) {
        activeDropdownMenu.classList.remove('open');
      }
      dropdownMenu.classList.add('open');
      activeDropdownMenu = dropdownMenu;
    }
  });
});

document.addEventListener('click', (event) => {
  if (!event.target.closest('.vertical-menu') && !event.target.closest('.hamburger-menu')) {
    if (verticalMenu.classList.contains('open')) {
      closeMenu();
    }
  }
});

let touchStartX = 0;
let touchEndX = 0;

document.addEventListener('touchstart', (event) => {
  touchStartX = event.changedTouches[0].screenX;
}, false);

document.addEventListener('touchend', (event) => {
  touchEndX = event.changedTouches[0].screenX;
  handleSwipe();
}, false);

function handleSwipe() {
  if (touchEndX < touchStartX) {
    if (verticalMenu.classList.contains('open')) {
      closeMenu();
    }
  }
}

document.querySelectorAll('.dropdown-item').forEach(item => {
  item.addEventListener('click', event => {
    event.stopPropagation(); // Stop the event from bubbling up

    const subMenu = event.currentTarget.querySelector('.dropdown-menu-third');
    
    // If the clicked submenu is already the active one, hide it and clear the reference
    if (activeThirdLayerMenu === subMenu) {
      subMenu.style.display = 'none';
      subMenu.style.opacity = '0';
      activeThirdLayerMenu = null;
      return;
    }

    // If there's an active third layer menu, hide it
    if (activeThirdLayerMenu) {
      activeThirdLayerMenu.style.display = 'none';
      activeThirdLayerMenu.style.opacity = '0';
    }
    
    // Show the new menu and update the reference to the active menu
    subMenu.style.display = 'flex';
    setTimeout(() => subMenu.style.opacity = '1', 0); // Add a delay to apply opacity after display
    activeThirdLayerMenu = subMenu;
  });
});


// JavaScript to handle click events on about-options and service-options
const aboutOptions = document.querySelectorAll('.about-options');
const serviceOptions = document.querySelectorAll('.service-options');


  
    const stopwatchElement = document.getElementById('stopwatch');
  let timeInSeconds = 30 * 60; // 30 minutes in seconds
  let timerInterval = null;
  window.addEventListener('load', loadQuizState);

    function updateStopwatch() {
      const minutes = Math.floor(timeInSeconds / 60);
      const seconds = timeInSeconds % 60;
      stopwatchElement.textContent = `${padZero(minutes)}:${padZero(seconds)}`;
      timeInSeconds--;
      if (timeInSeconds < 0) {
        clearInterval(timerInterval);
        handleTimeUp();
      }
    }

    function padZero(value) {
      return value.toString().padStart(2, '0');
    }

 



    const questionText = document.getElementById('question-text');
    const optionsContainer = document.getElementById('options-container');
    const feedbackContainer = document.getElementById('feedback-container');
    const nextButton = document.getElementById('next-button');
    const redoButton = document.getElementById('redo-button');
    

  function getAllQuestions() {
  return allQuestions;
}

const questions = getAllQuestions();



    let currentQuestionIndex = 0;
    let score = 0;
    let userAnswered = false;


function showQuestion() {
  userAnswered = false; // Reset the userAnswered flag

  // Check if there is a next question
  if (currentQuestionIndex < questions.length) { 
    const question = questions[currentQuestionIndex];

    // Split the question string into parts
    const questionParts = question.question.split('\n');

    // Clear any existing content
    questionText.innerHTML = '';

    // Create text and break elements for each part
    questionParts.forEach((part, index) => {
      questionText.appendChild(document.createTextNode(part));

      // Add a line break after every part except the last one
      if (index < questionParts.length - 1) {
        questionText.appendChild(document.createElement('br'));
      }
    });

    optionsContainer.innerHTML = '';

    question.options.forEach(option => {
      const optionElement = document.createElement('div');
      optionElement.classList.add('option');
      optionElement.dataset.value = option.value;

      const optionLabel = document.createElement('span');
      optionLabel.classList.add('option-label');
      optionLabel.textContent = option.label;

      optionElement.appendChild(optionLabel);
      optionsContainer.appendChild(optionElement);
    });

    const correctOption = optionsContainer.querySelector(`[data-value="${question.correctAnswer}"]`);
    if (correctOption) {
      correctOption.classList.add('correct-option');
    }

    // Show the correct answer in the feedback container
    feedbackContainer.textContent = `正確答案: ${question.correctAnswer}`;
    nextButton.style.display = 'block'; // Show the next button

    if (currentQuestionIndex > 0) {
      prevButton.style.display = 'block'; // Show the prev button if not the first question
    } else {
      prevButton.style.display = 'none'; // Hide the prev button if it is the first question
    }

    // Update the value of the dropdown menu to reflect the current question
    const questionSelect = document.getElementById('questionSelect');
    questionSelect.value = currentQuestionIndex;

  } else {
    // When there are no more questions, hide the buttons and show the redoButton
    prevButton.style.display = 'none';
    nextButton.style.display = 'none';
    redoButton.style.display = 'block';
  }
}
    

function handleOptionClick(event) {
  if (userAnswered) {
    return;
  }

  userAnswered = true;
  const selectedOption = event.target.closest('.option');

  // Log the selectedOption object to the console.
  console.log('selectedOption', selectedOption);

  // If no element was found with the class 'option', log an error and return.
  if (!selectedOption) {
    console.error('No option selected');
    return;
  }

  const selectedValue = selectedOption.dataset.value;

  // Log the selectedValue to the console.
  console.log('selectedValue', selectedValue);

  // Debugging logs
console.log('questions', questions);
console.log('currentQuestionIndex', currentQuestionIndex);
console.log('questions.length', questions.length); // check the length of the array

  const question = questions[currentQuestionIndex];

  console.log('question', question);  // Add this line

  // If question is undefined, log an error and return.
  if (!question) {
    console.error('No current question');
    return;
  }

  question.userAnswer = selectedValue;

  if (selectedValue === question.correctAnswer) {
    selectedOption.classList.add('correct-option');
    score++;
  } else {
    selectedOption.classList.add('wrong-option');
    const correctOption = optionsContainer.querySelector(`[data-value="${question.correctAnswer}"]`);
    correctOption.classList.add('correct-option');
  }

  feedbackContainer.textContent = selectedValue === question.correctAnswer ? '正確答案' : '錯誤答案';
  nextButton.style.display = 'block';
}

    
function showNextQuestion() {
  currentQuestionIndex++;
  showQuestion();
}

function saveQuizState() {
  const quizState = {
    currentQuestionIndex: currentQuestionIndex,
    score: score,
    userAnswers: questions.map(question => question.userAnswer)
  };
  localStorage.setItem('quizState', JSON.stringify(quizState));
}


function showResult() {
  saveQuizState();
  questionText.textContent = '測試完成';
  optionsContainer.innerHTML = '';
  feedbackContainer.textContent = `你的分數是 ${score} / ${questions.length}`;
  nextButton.style.display = 'none';
  redoButton.style.display = 'block';

  clearInterval(timerInterval); // Stop the timer
}

function loadQuizState() {
    try {
        const storedState = localStorage.getItem('quizState');

        if (storedState) {
            const parsedState = JSON.parse(storedState);
            currentQuestionIndex = parsedState.currentQuestionIndex;
            score = parsedState.score;
            showQuestion();
        } else {
            startQuiz();
        }
    } catch (error) {
        console.error('Failed to load quiz state:', error);
        startQuiz();
    }
}

    function startQuiz() {
    currentQuestionIndex = 0;
    score = 0;
    showQuestion();
}

function getQuestions(numQuestions) {
  return allQuestions.slice(0, numQuestions);
}


function showPreviousQuestion() {
  if (currentQuestionIndex > 0) { // Check if there is a previous question
    currentQuestionIndex--;
    userAnswered = false; // Allow the user to answer the previous question again
    showQuestion();
  }
}
    const prevButton = document.getElementById('prevButton');
prevButton.addEventListener('click', showPreviousQuestion);
    
function redoQuiz() {
  localStorage.removeItem('quizState');
  clearInterval(timerInterval);
  loadQuizState();
  currentQuestionIndex = 0;
  score = 0;
  userAnswered = false;
  showQuestion();
  redoButton.style.display = 'none';
  clearInterval(timerInterval); // Clear the previous timer interval
  timeInSeconds = 30 * 60; // Reset the timer to 30 minutes
  timerInterval = setInterval(updateStopwatch, 1000); // Start the timer again
}    

    nextButton.addEventListener('click', showNextQuestion);
    redoButton.addEventListener('click', redoQuiz);

    // Show the first question
    showQuestion();

function populateQuestionSelect() {
  const questionSelect = document.getElementById('questionSelect');
  
  // Add an option for each question to the dropdown menu
  questions.forEach((question, index) => {
    const option = document.createElement('option');
    option.value = index;
    option.textContent = `問題 ${index + 1}`;
    questionSelect.appendChild(option);
  });
}
    populateQuestionSelect();
   
    document.getElementById('questionSelect').addEventListener('change', function() {
  currentQuestionIndex = parseInt(this.value);
  showQuestion();
});

    question.question = question.question.replace(/ \((\d)\)/g, '<br>($1)');
    
  </script>

  
  
</body>
</html>
